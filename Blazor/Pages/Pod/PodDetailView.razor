@using k8s.Models
@using Blazor.Pages.Container
@using Blazor.Pages.Event
@using Blazor.Pages.Workload
@using Extension
@using Extension.k8s
@inherits FeedbackComponent<V1Pod, bool>
@if (PodItem != null)
{
    <Descriptions Bordered Column="1">
        <DescriptionsItem Title="创建时间">
            @PodItem.Metadata.CreationTimestamp?.AgeFromUtc()
            (@PodItem.Metadata.CreationTimestamp)
        </DescriptionsItem>
        <DescriptionsItem Title="Name">
            <Text Copyable>@PodItem.Name()</Text>
        </DescriptionsItem>
        <DescriptionsItem Title="Namespace">@PodItem.Namespace()</DescriptionsItem>
        <DescriptionsItem Title="状态">
            <StatusView Status=@PodItem.Status()></StatusView>
        </DescriptionsItem>
        <DescriptionsItem Title="Controlled By">
            <ControllerBy Owner=@PodItem.OwnerReferences()></ControllerBy>
        </DescriptionsItem>
        <DescriptionsItem Title="Node">
            <Button OnClick="@(() => OnNodeNameClick(PodItem.Spec.NodeName))" Type="@ButtonType.Link">@PodItem.Spec.NodeName</Button>
        </DescriptionsItem>
        <DescriptionsItem Title="Pod IP">@PodItem.Status.PodIP</DescriptionsItem>
        <DescriptionsItem Title="Pod IPs">
            @foreach (var ip in PodItem.Status.PodIPs)
            {
                <Tag PresetColor=@PresetColor.Cyan>@ip.Ip</Tag>
            }
        </DescriptionsItem>
        <DescriptionsItem Title="Priority Class">@PodItem.Spec.PriorityClassName</DescriptionsItem>
        <DescriptionsItem Title="QoS Class">@PodItem.Status.QosClass</DescriptionsItem>

        <SelectorView Title="Node Selector" Selector="@PodItem.Spec.NodeSelector"></SelectorView>
        <DescriptionsItem Title="Conditions">
            @foreach (var ns in PodItem.Status.Conditions)
            {
                if (ns.Status == "True")
                {
                    <Tag PresetColor=@PresetColor.Blue>@ns.Type</Tag>
                }
                else
                {
                    <Tag PresetColor=@PresetColor.Red>@ns.Type</Tag>
                }
            }
        </DescriptionsItem>
        <LabelsView Labels="PodItem.Labels()"></LabelsView>
        <AnnotationsView Annotations="@PodItem.Annotations()"></AnnotationsView>
        <ImagesView PodSpec="@PodItem.Spec"></ImagesView>
        <TolerationsView Tolerations="@PodItem.Spec.Tolerations"></TolerationsView>
    </Descriptions>
    <ContainerListView Pod="@PodItem"></ContainerListView>
    <VolumeView PodItem="@PodItem"></VolumeView>
    <EventListView Uid="@PodItem.Metadata.Uid"></EventListView>
}
