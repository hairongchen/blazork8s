@using k8s.Models
@using BlazorApp.Pages.Common.Metadata
@using BlazorApp.Pages.Event
@using BlazorApp.Pages.Pod
@using BlazorApp.Pages.ReplicaSet
@inherits FeedbackComponent<k8s.Models.V1Deployment, bool>
@if (Item != null)
{
    <MetadataView Item="Item" T="V1Deployment"></MetadataView>

    <Descriptions Bordered Column="1">
        <SelectorView Title="Selector" Selector="@Item.Spec.Selector.MatchLabels"></SelectorView>
        <SelectorView Title="Node Selector" Selector="@Item.Spec.Template.Spec.NodeSelector"></SelectorView>
        <DescriptionsItem Title="Replicas"  LabelStyle="width:120px">
            @($"{Item.Spec.Replicas ?? 0} desired, {Item.Status.UpdatedReplicas ?? 0} updated, {Item.Status.Replicas ?? 0} total, {Item.Status.AvailableReplicas ?? 0} available, {Item.Status.UnavailableReplicas ?? 0} unavailable")
        </DescriptionsItem>
        <ImagesView PodSpec="@Item.Spec.Template.Spec"></ImagesView>
        <TolerationsView Tolerations="@Item.Spec.Template.Spec.Tolerations"></TolerationsView>
        <StrategyTypeView Strategy="@Item.Spec.Strategy"></StrategyTypeView>
        <ConditionView ConditionList="@Item.Status.Conditions"></ConditionView>
    </Descriptions>
    <MiniReplicaSetListView ControllerByUid="@Item.Metadata.Uid"></MiniReplicaSetListView>
    <MiniPodListView Pods="@PodList"></MiniPodListView>
    <MiniEventListView Uid="@Item.Metadata.Uid"></MiniEventListView>
}
