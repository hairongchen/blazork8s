@using BlazorApp.Pages.Common.Metadata
@using BlazorApp.Pages.Event
@using BlazorApp.Pages.Pod
@using k8s.Models
@inherits FeedbackComponent<k8s.Models.V1ReplicaSet, bool>
@if (ReplicaSet != null)
{
    <ReplicaSetAction Item="ReplicaSet" MenuMode="MenuMode.Horizontal"></ReplicaSetAction>
    <Divider Orientation="left" Style="font-weight:bold">Metadata</Divider>
    <MetadataView Item="ReplicaSet" T="V1ReplicaSet" ExplainFieldPrefix="replicaSet"></MetadataView>
    <Divider Orientation="left" Style="font-weight:bold">Spec</Divider>
    <Descriptions Bordered Column="1">
        <SelectorView Title="Selector" Selector="@ReplicaSet.Spec.Selector.MatchLabels"></SelectorView>
        <SelectorView Title="Node Selector" Selector="@ReplicaSet.Spec.Template.Spec.NodeSelector"></SelectorView>
        <ImagesView PodSpec="@ReplicaSet.Spec.Template.Spec"></ImagesView>
        <TolerationsView Tolerations="@ReplicaSet.Spec.Template.Spec.Tolerations"></TolerationsView>
        <PropertySimpleView Title="MinReadySeconds" Item="@ReplicaSet.Spec.MinReadySeconds" ExplainField="replicaSet.spec.minReadySeconds"></PropertySimpleView>
        <PropertySimpleView Title="Replicas" Item="@ReplicaSet.Spec.Replicas" ExplainField="replicaSet.spec.replicas"></PropertySimpleView>
    </Descriptions>

    <Divider Orientation="left" Style="font-weight:bold">Status</Divider>
    <Descriptions Bordered Column="1">
        <DescriptionsItem Title="Replicas" LabelStyle="width:120px">
            @($"{ReplicaSet.Status.AvailableReplicas ?? 0} current / {ReplicaSet.Status.Replicas} desired")
        </DescriptionsItem>
        <ConditionView ConditionList="@ReplicaSet.Status.Conditions" ExplainField="replicaSet.status.conditions"></ConditionView>
        <PropertySimpleView Title="Replicas" Item="@ReplicaSet.Status.Replicas" ExplainField="replicaSet.status.replicas"></PropertySimpleView>
        <PropertySimpleView Title="AvailableReplicas" Item="@ReplicaSet.Status.AvailableReplicas" ExplainField="replicaSet.status.availableReplicas"></PropertySimpleView>
        <PropertySimpleView Title="FullyLabeledReplicas" Item="@ReplicaSet.Status.FullyLabeledReplicas" ExplainField="replicaSet.status.fullyLabeledReplicas"></PropertySimpleView>
        <PropertySimpleView Title="ObservedGeneration" Item="@ReplicaSet.Status.ObservedGeneration" ExplainField="replicaSet.status.observedGeneration"></PropertySimpleView>
        <PropertySimpleView Title="ReadyReplicas" Item="@ReplicaSet.Status.ReadyReplicas" ExplainField="replicaSet.status.readyReplicas"></PropertySimpleView>

    </Descriptions>

    <MiniPodListView ControllerByUid="@ReplicaSet.Metadata.Uid"></MiniPodListView>
    <MiniEventListView Uid="@ReplicaSet.Metadata.Uid"></MiniEventListView>
}
