@using k8s.Models
@using BlazorApp.Pages.Common.Html.HTable
@using BlazorApp.Pages.Common.Metadata
@using BlazorApp.Pages.Common
@if (RequestLimits is { Limits.Count: > 0 })
{
    <HTr>
        <HTd>
            Resource
            <KubectlExplainButton Field="pod.spec.containers.resources"></KubectlExplainButton>
        </HTd>
        <HTd>
            <Card >
                <Tabs Size="TabSize.Small" TabPosition="TabPosition.Bottom" Animated>

                    <TabPane Key="Requests" Tab="Requests">
                        @if (RequestLimits.Requests != null)
                        {
                            @foreach (var (key, value) in RequestLimits.Requests)
                            {
                                <ColorfulTag >@($"{key}={value}") </ColorfulTag>
                            }
                        }
                        else
                        {
                            <Tag>Null</Tag>
                        }
                    </TabPane>


                    <TabPane Key="Limits" Tab="Limits">
                        @if (RequestLimits.Limits != null)
                        {
                            @foreach (var (key, value) in RequestLimits.Limits)
                            {
                                <ColorfulTag >@($"{key}={value}") </ColorfulTag>
                            }
                        }
                        else
                        {
                            <Tag>Null</Tag>
                        }
                    </TabPane>
                    <TabPane Key="Claims" Tab="Claims">
                        @if (RequestLimits.Claims != null)
                        {
                            @foreach (var c in RequestLimits.Claims)
                            {
                                <ColorfulTag >@($"{c.Name}") </ColorfulTag>
                            }
                        }
                        else
                        {
                            <Tag>Null</Tag>
                        }
                    </TabPane>

                </Tabs>
            </Card>
        </HTd>
    </HTr>
}

@code {

    [Parameter]
    public V1ResourceRequirements RequestLimits { get; set; }

}
