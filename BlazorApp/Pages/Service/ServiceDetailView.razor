@using BlazorApp.Pages.Common.Metadata
@using BlazorApp.Pages.Event
@using BlazorApp.Utils
@using k8s.Models
@inherits BlazorApp.Pages.Common.DrawerPageBase<k8s.Models.V1Service>
@if (Item != null)
{
    <ServiceAction Item="Item" MenuMode="MenuMode.Horizontal"></ServiceAction>
    <MetadataView Item="Item" T="V1Service"></MetadataView>
    <Descriptions Bordered Column="1">
        @if (Item.Spec.Type != null)
        {
            <DescriptionsItem Title="Type" LabelStyle="width:120px">
                <OptionsView Options='@(new[] { "ClusterIP", "NodePort", "ExternalName", "LoadBalancer" })' SelectOption="@Item.Spec.Type"></OptionsView>
            </DescriptionsItem>
        }
        @if (Item.Spec.ClusterIP != null)
        {
            <DescriptionsItem Title="ClusterIP">
                <Tag Color=@RandomColorHelper.RandomColor()>@Item.Spec.ClusterIP</Tag>
                <KubectlExplainButton Field="service.spec.clusterIP"></KubectlExplainButton>

            </DescriptionsItem>
        }
        @if (Item.Spec.ClusterIPs != null)
        {
            <DescriptionsItem Title="ClusterIPs">
                @foreach (var p in Item.Spec.ClusterIPs)
                {
                    <Tag Color=@RandomColorHelper.RandomColor()>@p</Tag>
                }
                <KubectlExplainButton Field="service.spec.clusterIPs"></KubectlExplainButton>
            </DescriptionsItem>
        }
        @if (Item.Spec.Selector != null)
        {
            <SelectorView Selector="@Item.Spec.Selector" Title="Selector"></SelectorView>
        }
        @if (Item.Spec.InternalTrafficPolicy != null)
        {
            <DescriptionsItem Title="InternalTrafficPolicy">
                <OptionsView Options='@(new[] { "Cluster", "Local" })' SelectOption="@Item.Spec.InternalTrafficPolicy"></OptionsView>
                <KubectlExplainButton Field="service.spec.internalTrafficPolicy"></KubectlExplainButton>
            </DescriptionsItem>
        }

    </Descriptions>
    <MiniEventListView Uid="@Item.Metadata.Uid"></MiniEventListView>
}
