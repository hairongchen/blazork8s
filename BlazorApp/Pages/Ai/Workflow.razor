@page "/Workflow"
@inherits BlazorApp.Pages.Common.PageBase

<div class="chat-container">
    <div class="chat-box" id="chat-box">
        @foreach (var message in _messages)
        {
            <div class="message @(message.IsUser ? "user-message" : "bot-message")">
                <p>@message.Content</p>
            </div>
        }
    </div>
    <div class="input-box">
        <input type="text" @bind="_userInput" @onkeypress="HandleKeyPress" placeholder="Type your message...">
        <button @onclick="@(() => SendMessage())">Send</button>
    </div>
    @if (_showPrompt)
    {
        <div class="prompt">
            <p>Select:</p>
            <ul>
                <li>
                    <button @onclick="@(() => InsertTag("请检查kubernetes-dashboards命名空间下的pod运行状态"))">
                        #pod-kubernetes-dashboards
                    </button>
                </li>
                <li>
                    <button @onclick="@(() => InsertTag("请检查default命名空间下的pod运行状态"))">#pod-default</button>
                </li>
                <li>
                    <button @onclick="@(() => InsertTag("deployment"))">#deployment</button>
                </li>
                <li>
                    <button @onclick="@(() => InsertTag("service"))">#service</button>
                </li>
            </ul>
        </div>
    }

</div>
