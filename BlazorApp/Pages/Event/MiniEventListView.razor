@using Extension
@using BlazorApp.Pages.Common.Metadata
<Divider Orientation="left" Style="font-weight:bold">Events</Divider>
@if (Events != null)
{
    foreach (var xx in Events)
    {
        <Descriptions Title="" Bordered Column="1">
            <TitleTemplate>
                <br>
                @if (xx.Type == "Warning")
                {
                    <AntDesign.Text Type="danger" Strong="true">@xx.Message</AntDesign.Text>
                }
                else
                {
                    @xx.Message
                }
                <Badge Count="@xx.Count"></Badge>
            </TitleTemplate>
            <ChildContent>
                <DescriptionsItem Title="Message">
                    <p >@xx.Message</p>
                </DescriptionsItem>
                <DescriptionsItem Title="事件源">
                    <Tag >@xx.Source.Host</Tag>
                    <Tag >@xx.Source.Component</Tag>
                </DescriptionsItem>
                <DescriptionsItem Title="最后出现">
                    <AgeView Age="@xx.LastTimestamp"></AgeView>
                    ( @xx.LastTimestamp)
                </DescriptionsItem>
                <DescriptionsItem Title="起因">
                    <Tag PresetColor="PresetColor.Blue">@xx.InvolvedObject.NamespaceProperty</Tag>
                    <Tag PresetColor="PresetColor.Purple">@xx.InvolvedObject.Kind</Tag>
                    <Tag PresetColor="PresetColor.Orange">@xx.InvolvedObject.Name</Tag>
                    <Tag PresetColor="PresetColor.Green">@xx.InvolvedObject.FieldPath</Tag>
                </DescriptionsItem>
            </ChildContent>
        </Descriptions>
    }

    if (!String.IsNullOrEmpty(Advice))
    {
        <Card Title="智能诊断">
            <Body>
            @((MarkupString)Advice.ToHtmlDisplay())
            </Body>
        </Card>
    }
}
