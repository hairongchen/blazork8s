@using Extension
@using k8s.Models
@using BlazorApp.Pages.Common.Html
@if (LabelSelector != null && (LabelSelector.MatchLabels is { Count: > 0 } || LabelSelector.MatchExpressions is { Count: > 0 }))
{
    <HTableColumn Title="@Title" ExplainField="@ExplainField">
        @if (LabelSelector.MatchLabels is { Count: > 0 })
        {
            @foreach (var label in LabelSelector.MatchLabels)
            {
                <Alert Type="@AlertType.Info">
                    <ColorfulTag>@label.Key = @label.Value</ColorfulTag>
                </Alert>
            }
        }
        @if (LabelSelector.MatchExpressions is { Count: > 0 })
        {
            @foreach (var expression in LabelSelector.MatchExpressions)
            {
                <Alert Type="@AlertType.Success">
                    @if (expression.Values is { Count: > 0 })
                    {
                        @($"`{expression.Key}` {expression.OperatorProperty} [{string.Join(" ", expression.Values)}]   ")
                    }
                    else
                    {
                        @($"`{expression.Key}` {expression.OperatorProperty}  ")
                    }
                </Alert>
            }
        }

        @if (LabelSelector.ToJson() == "{}" && NullDesc != null)
        {
            <ColorfulTag>@NullDesc</ColorfulTag>
        }
    </HTableColumn>
}

@code {

    [Parameter]
    public V1LabelSelector LabelSelector { get; set; }

    [Parameter]
    public string ExplainField { get; set; }

    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public string NullDesc { get; set; }

}
