@using BlazorApp.Pages.Common
@using BlazorApp.Pages.Common.Html
@using BlazorApp.Pages.Common.Html.HTable
@using k8s.Models
@inherits BlazorApp.Pages.Common.PageBase

@if (Rules is { Count: > 0 })
{
    <HTableColumn Title="@Title" ExplainField="ingress.spec.rules.http">
        @foreach (var rule in Rules)
        {
            <HTable Class="miniTable">

                <HTableColumn Title=@L["Host"] ExplainField="ingress.spec.rules.host">
                    <ColorfulTag>@(rule.Host ?? "*") </ColorfulTag>
                </HTableColumn>


                @if (rule.Http.Paths is { Count: > 0 })
                {
                    @foreach (var path in rule.Http.Paths)
                    {
                        <HTableColumn Title=@L["Path"]>
                            <ColorfulTag>@($"[{path.PathType}] {path.Path}")</ColorfulTag>
                            ==>
                            <IngressBackendNoTableView Backend="@path.Backend"></IngressBackendNoTableView>
                        </HTableColumn>
                    }
                }

            </HTable>
        }
    </HTableColumn>
}

@code {

    [Parameter] public IList<V1IngressRule> Rules { get; set; }

    [Parameter] public string Title { get; set; }

}
